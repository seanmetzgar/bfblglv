"use strict";function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e;return function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function a(e,n){t.fn[e]=function(a){if("string"==typeof a){for(var r=i.call(arguments,1),o=0,l=this.length;l>o;o++){var h=this[o],u=t.data(h,e);if(u)if(t.isFunction(u[a])&&"_"!==a.charAt(0)){var c=u[a].apply(u,r);if(void 0!==c&&c!==u)return c}else s("no such method '"+a+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+a+"'")}return this}var d=this.map(function(){var i=t.data(this,e);return i?(i.option(a),i._init()):(i=new n(this,a),t.data(this,e,i)),t(this)});return!d||d.length>1?d:d[0]}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),a(t,e)},t.bridget}}var i=Array.prototype.slice;n(t)}(t),function(t){function n(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(a){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n?n:{};for(var s=Object.keys(this.defaultOptions),r=0;r<s.length;r++){var o=s[r],l=n[o];l="undefined"!=typeof l?l:i(this.element,o),l=null!==l?l:this.defaultOptions[o],this.options||(this.options={}),this.options[o]=l}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var h,u,c,d,f,p=this.element.style.width,g=!1,m=this.element.parentNode;if(this.sliderElem)g=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",u=document.createElement("div"),u.className="slider-track-low",h=document.createElement("div"),h.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",d=document.createElement("div"),d.className="slider-handle min-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),f=document.createElement("div"),f.className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),v.appendChild(u),v.appendChild(h),v.appendChild(c);var b=Array.isArray(this.options.labelledby);if(b&&this.options.labelledby[0]&&d.setAttribute("aria-labelledby",this.options.labelledby[0]),b&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!b&&this.options.labelledby&&(d.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(r=0;r<this.options.ticks.length;r++){var _=document.createElement("div");_.className="slider-tick",this.ticks.push(_),v.appendChild(_)}h.className+=" tick-slider-selection"}if(v.appendChild(d),v.appendChild(f),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var y=document.createElement("div"),S=0===this.options.ticks_positions.length,D=this.options.reversed&&S?this.options.ticks_labels.length-(r+1):r;y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var C=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},x=document.createElement("div");x.className="tooltip tooltip-main",x.setAttribute("role","presentation"),C(x);var w=document.createElement("div");w.className="tooltip tooltip-min",w.setAttribute("role","presentation"),C(w);var T=document.createElement("div");T.className="tooltip tooltip-max",T.setAttribute("role","presentation"),C(T),this.sliderElem.appendChild(v),this.sliderElem.appendChild(x),this.sliderElem.appendChild(w),this.sliderElem.appendChild(T),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),g===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=h||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=d||this.handle1,this.handle2=f||this.handle2,g===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");var A=["round","triangle","custom"],I=-1!==A.indexOf(this.options.handle);if(I)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var i,a,s,r=0,o=1;o<this.options.ticks_positions.length;o++)if(t<=this.options.ticks_positions[o]){i=this.options.ticks[o-1],s=this.options.ticks_positions[o-1],a=this.options.ticks[o],r=this.options.ticks_positions[o];break}var l=(t-s)/(r-s);e=i+l*(a-i),n=!1}var h=n?this.options.min:0,u=h+Math.round(e/this.options.step)*this.options.step;return u<this.options.min?this.options.min:u>this.options.max?this.options.max:u},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,a=0,s=0;s<this.options.ticks.length;s++)if(t<=this.options.ticks[s]){e=s>0?this.options.ticks[s-1]:0,i=s>0?this.options.ticks_positions[s-1]:0,n=this.options.ticks[s],a=this.options.ticks_positions[s];break}if(s>0){var r=(t-e)/(n-e);return i+r*(a-i)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min),i=0===t?0:Math.log(t);return 100*(i-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null,labelledby:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var a=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=a(this._state.value[0]),this._state.value[1]=a(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=a(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var s=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(s),e===!0&&this._trigger("slide",s),i!==s&&n===!0&&this._trigger("change",{oldValue:i,newValue:s}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e="vertical"===this.options.orientation?"height":"width",n="vertical"===this.options.orientation?"marginTop":"marginLeft",i=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var a=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[n]=-i/2+"px"),a=this.tickLabelContainer.offsetHeight;else for(s=0;s<this.tickLabelContainer.childNodes.length;s++)this.tickLabelContainer.childNodes[s].offsetHeight>a&&(a=this.tickLabelContainer.childNodes[s].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=a+"px")}for(var s=0;s<this.options.ticks.length;s++){var r=this.options.ticks_positions[s]||this._toPercentage(this.options.ticks[s]);this.options.reversed&&(r=100-r),this.ticks[s].style[this.stylePos]=r+"%",this._removeClass(this.ticks[s],"in-selection"),this.options.range?r>=t[0]&&r<=t[1]&&this._addClass(this.ticks[s],"in-selection"):"after"===this.options.selection&&r>=t[0]?this._addClass(this.ticks[s],"in-selection"):"before"===this.options.selection&&r<=t[0]&&this._addClass(this.ticks[s],"in-selection"),this.tickLabels[s]&&(this.tickLabels[s].style[e]=i+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[s]?(this.tickLabels[s].style.position="absolute",this.tickLabels[s].style[this.stylePos]=r+"%",this.tickLabels[s].style[n]=-i/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[s].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var o;if(this.options.range){o=this.options.formatter(this._state.value),this._setText(this.tooltipInner,o),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var l=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,l);var h=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,h),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else o=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,o),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var u=this.tooltip_min.getBoundingClientRect(),c=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?u.right>c.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):u.right>c.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=i>n?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var a=this._calculateValue();return this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,a="horizontal"===this.options.orientation&&this.options.reversed;(i||a)&&(n=-n)}var s=this._state.value[t]+n*this.options.step;return this.options.range&&(s=[t?this._state.value[0]:s,t?s:this._state.value[1]]),this._trigger("slideStart",s),this._setDataVal(s),this.setValue(s,!0,!0),this._setDataVal(s),this._trigger("slideStop",s),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],n=e.pageX-this.touchX,i=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&5>=n&&n>=-5&&(i>=15||-15>=i)?this._mousedown(t):5>=i&&i>=-5&&(n>=15||-15>=n)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this._state.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],i=0;i<this.options.ticks.length;i++){var a=Math.abs(this.options.ticks[i]-e);a<=n[1]&&(n=[this.options.ticks[i],a])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],n=this._state.offset[this.stylePos],i=e-n,a=i/this._state.size*100;return a=Math.round(a/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(a=100-a),Math.max(0,Math.min(100,a))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var a=0;a<i.length;a++){var s=i[a];s(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.textContent?t.textContent=e:"undefined"!=typeof t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,a=0;a<n.length;a++){var s=n[a],r=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)");i=i.replace(r," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,a=0;a<n.length;a++){var s=n[a],r=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)"),o=r.test(i);o||(i+=" "+s)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var a=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[a]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",n="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else t.forEach("bottom"===this.options.tooltip_position?function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this):function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t){var s=t.fn.slider?"bootstrapSlider":"slider";t.bridget(s,e),t(function(){t("input[data-provide=slider]")[s]()})}}(t),e});
!function(t,e){"use strict";if("function"==typeof define&&define.amd)define(["exports","jquery"],function(t,n){return e(t,n)});else if("undefined"!=typeof exports){var n=require("jquery");e(exports,n)}else e(t,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e){function n(t,n){function a(t,e,n){return t[e]=n,t}function s(t,e){for(var n,s=t.match(i.key);void 0!==(n=s.pop());)if(i.push.test(n)){var o=r(t.replace(/\[\]$/,""));e=a([],o,e)}else i.fixed.test(n)?e=a([],n,e):i.named.test(n)&&(e=a({},n,e));return e}function r(t){return void 0===f[t]&&(f[t]=0),f[t]++}function o(t){switch(e('[name="'+t.name+'"]',n).attr("type")){case"checkbox":return"on"===t.value?!0:t.value;default:return t.value}}function l(e){if(!i.validate.test(e.name))return this;var n=s(e.name,o(e));return d=t.extend(!0,d,n),this}function h(e){if(!t.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var n=0,i=e.length;i>n;n++)this.addPair(e[n]);return this}function u(){return d}function c(){return JSON.stringify(u())}var d={},f={};this.addPair=l,this.addPairs=h,this.serialize=u,this.serializeJSON=c}var i={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return n.patterns=i,n.serializeObject=function(){return new n(e,this).addPairs(this.serializeArray()).serialize()},n.serializeJSON=function(){return new n(e,this).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof e.fn&&(e.fn.serializeObject=n.serializeObject,e.fn.serializeJSON=n.serializeJSON),t.FormSerializer=n,n});
"use strict";function bfblglv_blc_email_validation(t){var e=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,63})?$/;return e.test(t)}function xhr_bfblglv_blc_add_data(t){$.ajax({type:"post",dataType:"json",url:BFBLGLV_BLC_AJAX.ajaxUrl,data:t,success:xhr_bfblglv_blc_add_data_handler})}function xhr_bfblglv_blc_add_data_handler(t){var e=jQuery(".blc-form"),n=jQuery(".blc-form-success.insert"),i=jQuery(".blc-form-success.update"),a=jQuery(".blc-form-failure");"success"===t.status?("update"===t.type?i.addClass("active"):n.addClass("active"),e.addClass("inactive")):("string"==typeof t.code?a.find(".code").empty().html(t.code):a.find(".code").empty(),a.addClass("active"),e.addClass("inactive"))}jQuery(document).ready(function(){var t=jQuery(".slider-label input[name=amount]"),e=jQuery(".slider-label input[name=people]");t.length>0&&jQuery(".slider-label input[name=amount]").slider({ticks:[1,5,10,20,50,100,200],ticks_labels:["$1","$5","$10","$20","$50","$100","$200"],ticks_positions:[0,10,30,50,70,90,100],value:10,id:"blc-amount-slider"}).siblings(".slider").find(".slider-tick:eq(0), .slider-tick:eq(6), .slider-tick-label:eq(0), .slider-tick-label:eq(6)").hide(),e.length>0&&jQuery(".slider-label input[name=people]").slider({ticks:[1,10],ticks_labels:["1","10"],ticks_positions:[0,100],value:1,id:"blc-people-slider"}),jQuery(".blc-form").on("submit",function(t){var e=jQuery(this),n=!0,i="";new Array;t.preventDefault(),e.find("input[name=pledge]").is(":not(:checked)")&&(n=!1,e.find("input[name=pledge]").parents("label").addClass("alarmed")),""==e.find("input[name=name]").val()&&(n=!1,e.find("input[name=name]").addClass("alarmed")),""==e.find("input[name=phone]").val()&&(n=!1,e.find("input[name=phone]").addClass("alarmed")),""==e.find("input[name=zip]").val()&&(n=!1,e.find("input[name=zip]").addClass("alarmed")),""==e.find("input[name=amount]").val()&&(n=!1,e.find("input[name=amount]").parents("label").addClass("alarmed")),""==e.find("input[name=people]").val()&&(n=!1,e.find("input[name=people]").parents("label").addClass("alarmed")),""!=e.find("input[name=email]").val()&&bfblglv_blc_email_validation(e.find("input[name=email]").val())||(n=!1,e.find("input[name=email]").addClass("alarmed")),n?(i=e.serializeObject(),i.action="xhr_bfblglv_blc_add_data",xhr_bfblglv_blc_add_data(i)):alert("Please verify all fields")}).blur().on("change blur focus",".alarmed",function(){jQuery(this).removeClass("alarmed")}),jQuery(".carrot-chart").each(function(){var t=jQuery(this),e=null,n=null,i=null,a=null,s=null,r=null,o=!1,l=t.data("goal"),u=t.data("total"),h=t.data("goal-pretty"),c=t.data("total-pretty"),d=0,f=100,p="50%";d=u>=l?100:parseFloat(u/l*100).toFixed(5),d>0&&5>d?d=5:d>=100&&(d=100),f=100-d+"%",50>d||d>95?(p="50%",o=d>95?!0:!1):(p=d+"%",o=!1),e=jQuery("<div></div>").appendTo(t).addClass("mask"),n=jQuery("<div></div>").appendTo(t).addClass("graph"),i=jQuery("<div></div>").appendTo(n).addClass("fill").css("top",f),a=jQuery("<div></div>").appendTo(t).addClass("goal").text("$"+h),s=jQuery("<div></div>").appendTo(t).addClass("total"),r=jQuery("<div></div>").appendTo(s).addClass("total-text").css("bottom",p).text("$"+c),o&&r.addClass("invert")})});
//# sourceMappingURL=scripts.min.js.map